h1. Page d'accueil personnalisée

Comme prévu, nous souhaitons créer notre propre page d'accueil (sinon, où est l'intérêt ? :)

Aussi, voici ce que nous souhaitons obtenir:

p=. !http://lh3.ggpht.com/_n8m1NWoVppU/TUsywpNZplI/AAAAAAAAHAo/2gA044DjJx8/Capture-2.16-index.jpg(figure 16 - Page d'accueil personnalisée)!
^figure 16 - Page d'accueil personnalisée^

Ce qui se traduit côté code "HTML/Groovy" par les lignes suivantes:

pre.
	#{extends 'main.html' /}
	<div id="games" class="games">
		<h1>&{'home.games.title'}</h1>
		#{if games}
			#{list items:games, as:'game'}
				#{set title:'Home / '+game.platform+'/'+game.title /}
				<div class="game" id="game_${game.id}">
						<div class="title"><span>#${game.id}.</span> ${game.platform}/${game.title}</div>
					<div class="side">
						#{if game.cover}
						<div class="cover">
							<img src="public/images/games/${game.platform}/${game.title}/cover/${game.cover}.resized"
								title="${game.platform}/${game.title}" width="60"/>
						</div>
						#{/if}
						<div class="tags">
						</div>
					</div>
					<div class="info">
						#{if game.description}
						<div class="label">&{'home.games.game.description'}</div>
						<div class="bloc">${game.description}</div>
						#{/if}
						#{if game.testContent}
						<div class="label">&{'home.games.game.test'}</div>
						<div class="bloc">${game.testContent}</div>
						#{/if}
					</div>
				</div>
			#{/list}
		#{/if}
		#{else}
			<p>&{'home.games.noitems'}</p>
		#{/else}
	</div>

On distingue plusieurs notations utiles:

* @&{}@ permet la lecture de messages issus des fichier @"messages.[langue]"@, exemple: &{'home.games.title'}
* @#{}@ permet les tests de structures et boucles,
* @${}@ permet la lecture de variables d'entités.

Les méthodes intéressantes sont:

* @#{if}#{/if}@ délimite une condition
* @#{else}#{/else}@ délimite le cas échéant de la condition
* @#{list items:[liste], as:'[item]'}@ permet de parcourir une liste [liste] avec comme index l'objet [item]. il est alors possible de référencer chaque occurense dans la liste par "item.attribut, où attribut est un attribut valorisé de l'occurence.

Référez vous à la "documentation":http://www.playframework.org/documentation/1.0.1/templates présente sur le site de Play! pour découvrir toutes les subtilités de Groovy, qui est le langage utilisé ici.




h1. Références


fn1. site de Git "http://git-scm.com/":http://git-scm.com/

fn2. Site de Mercurial (Hg) tools "http://mercurial.selenic.com/":http://mercurial.selenic.com/

fn3. Site de Bazaar "http://bazaar.canonical.com/en/":http://bazaar.canonical.com/en/

fn4. Livre sur Git écrit par la communauté d'utilisateur: "http://book.git-scm.com/":http://book.git-scm.com/

WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP - WIP

