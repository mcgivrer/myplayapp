CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C2*/create table Game (id bigint generated by default as identity (start with 1), author varbinary(255), cover varchar(255), description varchar(255), developerStudio varchar(255), editor varchar(255), note integer, platform varchar(255), publish bit, testContent varchar(255), title varchar(255), yearOfPublication integer, primary key (id))
create table User (id bigint generated by default as identity (start with 1), email varchar(255), firstname varchar(255), image varchar(255), language varchar(255), lastname varchar(255), password varchar(255), role varchar(255), status varchar(255), username varchar(255), webblog varchar(255), primary key (id))
create table User_Game (User_id bigint not null, games_id bigint not null, unique (games_id))
alter table User_Game add constraint FK8B9A53E6E66D3C6F foreign key (games_id) references Game
alter table User_Game add constraint FK8B9A53E647140EFE foreign key (User_id) references User
SET AUTOCOMMIT FALSE
INSERT INTO USER VALUES(1,'frederic.delorme@web-context.com','Administrator','test','fr','Blog manager','admin','ADMINISTRATOR','a','admin',NULL)
INSERT INTO GAME VALUES(1,NULL,'x360-risen-cover.jpg','Risen est une jeu de r\u00f4le avec une vue \u00e0 la troisi\u00e8me personne.','WizardBox','Deep Silver',6,'X360',TRUE,'Le jeu Risen, m\u00eame si il a de nombreux d\u00e9faut visuels dans sa version XBox360, il n''en reste pas moins une belle et longue aventure.','Risen',2009)
INSERT INTO GAME VALUES(2,NULL,'x360-wet-cover.jpg','Wet un jeu d''arcade action aventure avec une h\u00e9ro\u00efne \u00e0 tr\u00e8s gros charisme !','A2M','Bethesda Softwork',8,'X360',TRUE,'todo.','Wet',2009)
INSERT INTO GAME VALUES(3,NULL,'wii-donkey_kong_country_returns-cover.jpg','Le grand retour du grand gorille et du petit singe.','A2M','Bethesda Softwork',8,'Wii',TRUE,'todo.','Donkey Kong Country Returns',2009)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
alter table Game add column author_id bigint
alter table Game add constraint FK21C012A7CD013E foreign key (author_id) references User
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C4*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM GAME WHERE ID=3
INSERT INTO GAME VALUES(3,NULL,'wii-donkey_kong_country_returns-cover.jpg','Le grand retour du grand gorille et du petit singe.','A2M','Bethesda Softwork',8,'Wii',TRUE,'todo.','Donkey Kong Country Returns',2009,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM GAME WHERE ID=1
INSERT INTO GAME VALUES(1,NULL,'x360-risen-cover.jpg','Risen est une jeu de r\u00f4le avec une vue \u00e0 la troisi\u00e8me personne.','WizardBox','Deep Silver',6,'X360',TRUE,'Le jeu Risen, m\u00eame si il a de nombreux d\u00e9faut visuels dans sa version XBox360, il n''en reste pas moins une belle et longue aventure.','Risen',2009,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DELETE FROM GAME WHERE ID=2
INSERT INTO GAME VALUES(2,NULL,'x360-wet-cover.jpg','Wet un jeu d''arcade action aventure avec une h\u00e9ro\u00efne \u00e0 tr\u00e8s gros charisme !','A2M','Bethesda Softwork',8,'X360',TRUE,'todo.','Wet',2009,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
